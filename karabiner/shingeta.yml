title: "10-1. 新下駄配列"

# ALIASES ========================================

aliases:

# Kana Shift Keys --------------------------------

- from/key_code: &right_middle k
- from/key_code: &left_middle d
- from/key_code: &right_ring l
- from/key_code: &left_ring s
- from/key_code: &upper_middle i
- from/key_code: &upper_ring o
- from/key_code: &right_upper_pinky p
- from/key_code: &left_upper_pinky q

# Modifier Keys ----------------------------------

- from/modifiers: &optional_shift
    optional:
    - shift

- from/modifiers: &mandatory_shift
    mandatory:
    - shift

- to/modifiers: &to_shift
  - shift

# Conditions -------------------------------------

- conditions: &base
  - type: input_source_if
    input_sources:
    - language: ja
  - type: input_source_unless
    input_sources:
    - input_mode_id: "^net\\.mtgto\\.inputmethod\\.macSKK\\.eisu$"
  - type: variable_unless
    name: symbol
    value: 1
  - type: frontmost_application_unless
    bundle_identifiers:
    - "^com\\.apple\\.loginwindow$"

- conditions: &symbol
  - type: variable_if
    name: symbol
    value: 1
  - type: frontmost_application_unless
    bundle_identifiers:
    - "^com\\.apple\\.loginwindow$"

# Parameters -------------------------------------

- parameters: &threshold_ms
    basic.simultaneous_threshold_milliseconds: 50

# RULES ==========================================

rules:
- description: "10-1. 新下駄配列"
  manipulators:

# 中指シフト・右 ---------------------------------

  # ふ
  - type: basic
    from:
      simultaneous:
      - key_code: *right_middle
      - key_code: e
      modifiers: *optional_shift
    to:
    - key_code: h
    - key_code: u
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # ほ
  - type: basic
    from:
      simultaneous:
      - key_code: *right_middle
      - key_code: a
      modifiers: *optional_shift
    to:
    - key_code: h
    - key_code: o
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # む
  - type: basic
    from:
      simultaneous:
      - key_code: *right_middle
      - key_code: v
      modifiers: *optional_shift
    to:
    - key_code: m
    - key_code: u
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # も
  - type: basic
    from:
      simultaneous:
      - key_code: *right_middle
      - key_code: f
      modifiers: *optional_shift
    to:
    - key_code: m
    - key_code: o
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # ゆ
  - type: basic
    from:
      simultaneous:
      - key_code: *right_middle
      - key_code: g
      modifiers: *optional_shift
    to:
    - key_code: "y"
    - key_code: u
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # れ
  - type: basic
    from:
      simultaneous:
      - key_code: *right_middle
      - key_code: d
      modifiers: *optional_shift
    to:
    - key_code: r
    - key_code: e
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # ご
  - type: basic
    from:
      simultaneous:
      - key_code: *right_middle
      - key_code: w
      modifiers: *optional_shift
    to:
    - key_code: g
    - key_code: o
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # じ
  - type: basic
    from:
      simultaneous:
      - key_code: *right_middle
      - key_code: s
      modifiers: *optional_shift
    to:
    - key_code: z
    - key_code: i
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # ぞ
  - type: basic
    from:
      simultaneous:
      - key_code: *right_middle
      - key_code: x
      modifiers: *optional_shift
    to:
    - key_code: z
    - key_code: o
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # づ
  - type: basic
    from:
      simultaneous:
      - key_code: *right_middle
      - key_code: z
      modifiers: *optional_shift
    to:
    - key_code: d
    - key_code: u
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # ぼ
  - type: basic
    from:
      simultaneous:
      - key_code: *right_middle
      - key_code: c
      modifiers: *optional_shift
    to:
    - key_code: b
    - key_code: o
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # ふぁ
  - type: basic
    from:
      simultaneous:
      - key_code: *right_middle
      - key_code: q
      modifiers: *optional_shift
    to:
    - key_code: f
    - key_code: a
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # ふぃ
  - type: basic
    from:
      simultaneous:
      - key_code: *right_middle
      - key_code: r
      modifiers: *optional_shift
    to:
    - key_code: f
    - key_code: i
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # ふぇ
  - type: basic
    from:
      simultaneous:
      - key_code: *right_middle
      - key_code: t
      modifiers: *optional_shift
    to:
    - key_code: f
    - key_code: e
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # ふぉ
  - type: basic
    from:
      simultaneous:
      - key_code: *right_middle
      - key_code: b
      modifiers: *optional_shift
    to:
    - key_code: f
    - key_code: o
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # ぁ
  - type: basic
    from:
      simultaneous:
      - key_code: *right_middle
      - key_code: "1"
      modifiers: *optional_shift
    to:
    - key_code: x
    - key_code: a
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # ぃ
  - type: basic
    from:
      simultaneous:
      - key_code: *right_middle
      - key_code: "2"
      modifiers: *optional_shift
    to:
    - key_code: x
    - key_code: i
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # ぅ
  - type: basic
    from:
      simultaneous:
      - key_code: *right_middle
      - key_code: "3"
      modifiers: *optional_shift
    to:
    - key_code: x
    - key_code: u
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # ぇ
  - type: basic
    from:
      simultaneous:
      - key_code: *right_middle
      - key_code: "4"
      modifiers: *optional_shift
    to:
    - key_code: x
    - key_code: e
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # ぉ
  - type: basic
    from:
      simultaneous:
      - key_code: *right_middle
      - key_code: "5"
      modifiers: *optional_shift
    to:
    - key_code: x
    - key_code: o
      repeat: false
    conditions: *base
    parameters: *threshold_ms

# 中指シフト・左 ---------------------------------

  # あ
  - type: basic
    from:
      simultaneous:
      - key_code: *left_middle
      - key_code: j
      modifiers: *optional_shift
    to:
    - key_code: a
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # え
  - type: basic
    from:
      simultaneous:
      - key_code: *left_middle
      - key_code: semicolon
      modifiers: *optional_shift
    to:
    - key_code: e
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # せ
  - type: basic
    from:
      simultaneous:
      - key_code: *left_middle
      - key_code: "n"
      modifiers: *optional_shift
    to:
    - key_code: s
    - key_code: e
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # ね
  - type: basic
    from:
      simultaneous:
      - key_code: *left_middle
      - key_code: m
      modifiers: *optional_shift
    to:
    - key_code: "n"
    - key_code: e
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # へ
  - type: basic
    from:
      simultaneous:
      - key_code: *left_middle
      - key_code: h
      modifiers: *optional_shift
    to:
    - key_code: h
    - key_code: e
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # み
  - type: basic
    from:
      simultaneous:
      - key_code: *left_middle
      - key_code: o
      modifiers: *optional_shift
    to:
    - key_code: m
    - key_code: i
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # よ
  - type: basic
    from:
      simultaneous:
      - key_code: *left_middle
      - key_code: i
      modifiers: *optional_shift
    to:
    - key_code: "y"
    - key_code: o
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # べ
  - type: basic
    from:
      simultaneous:
      - key_code: *left_middle
      - key_code: comma
      modifiers: *optional_shift
    to:
    - key_code: b
    - key_code: e
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # ぱ
  - type: basic
    from:
      simultaneous:
      - key_code: *left_middle
      - key_code: u
      modifiers: *optional_shift
    to:
    - key_code: p
    - key_code: a
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # ぷ
  - type: basic
    from:
      simultaneous:
      - key_code: *left_middle
      - key_code: period
      modifiers: *optional_shift
    to:
    - key_code: p
    - key_code: u
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # ヴ
  - type: basic
    from:
      simultaneous:
      - key_code: *left_middle
      - key_code: slash
      modifiers: *optional_shift
    to:
    - key_code: v
    - key_code: u
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # うぃ
  - type: basic
    from:
      simultaneous:
      - key_code: *left_middle
      - key_code: "y"
      modifiers: *optional_shift
    to:
    - key_code: w
    - key_code: i
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # うぇ
  - type: basic
    from:
      simultaneous:
      - key_code: *left_middle
      - key_code: p
      modifiers: *optional_shift
    to:
    - key_code: w
    - key_code: e
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # うぉ
  - type: basic
    from:
      simultaneous:
      - key_code: *left_middle
      - key_code: quote
      modifiers: *optional_shift
    to:
    - key_code: w
    - key_code: h
    - key_code: o
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # コンマ
  - type: basic
    from:
      simultaneous:
      - key_code: *left_middle
      - key_code: "7"
      modifiers: *optional_shift
    to:
    - key_code: comma
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # セミコロン
  - type: basic
    from:
      simultaneous:
      - key_code: *left_middle
      - key_code: "8"
      modifiers: *optional_shift
    to:
    - key_code: semicolon
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # 開き鉤括弧
  - type: basic
    from:
      simultaneous:
      - key_code: *left_middle
      - key_code: "9"
      modifiers: *optional_shift
    to:
    - key_code: open_bracket
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # 閉じ鉤括弧
  - type: basic
    from:
      simultaneous:
      - key_code: *left_middle
      - key_code: "0"
      modifiers: *optional_shift
    to:
    - key_code: close_bracket
      repeat: false
    conditions: *base
    parameters: *threshold_ms

# 薬指シフト・右 ---------------------------------

  # お
  - type: basic
    from:
      simultaneous:
      - key_code: *right_ring
      - key_code: d
      modifiers: *optional_shift
    to:
    - key_code: o
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # け
  - type: basic
    from:
      simultaneous:
      - key_code: *right_ring
      - key_code: e
      modifiers: *optional_shift
    to:
    - key_code: k
    - key_code: e
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # さ
  - type: basic
    from:
      simultaneous:
      - key_code: *right_ring
      - key_code: s
      modifiers: *optional_shift
    to:
    - key_code: s
    - key_code: a
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # ぬ
  - type: basic
    from:
      simultaneous:
      - key_code: *right_ring
      - key_code: b
      modifiers: *optional_shift
    to:
    - key_code: "n"
    - key_code: u
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # め
  - type: basic
    from:
      simultaneous:
      - key_code: *right_ring
      - key_code: w
      modifiers: *optional_shift
    to:
    - key_code: m
    - key_code: e
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # り
  - type: basic
    from:
      simultaneous:
      - key_code: *right_ring
      - key_code: f
      modifiers: *optional_shift
    to:
    - key_code: r
    - key_code: i
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # ろ
  - type: basic
    from:
      simultaneous:
      - key_code: *right_ring
      - key_code: v
      modifiers: *optional_shift
    to:
    - key_code: r
    - key_code: o
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # を
  - type: basic
    from:
      simultaneous:
      - key_code: *right_ring
      - key_code: a
      modifiers: *optional_shift
    to:
    - key_code: w
    - key_code: o
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # ぎ
  - type: basic
    from:
      simultaneous:
      - key_code: *right_ring
      - key_code: c
      modifiers: *optional_shift
    to:
    - key_code: g
    - key_code: i
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # ざ
  - type: basic
    from:
      simultaneous:
      - key_code: *right_ring
      - key_code: x
      modifiers: *optional_shift
    to:
    - key_code: z
    - key_code: a
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # ず
  - type: basic
    from:
      simultaneous:
      - key_code: *right_ring
      - key_code: g
      modifiers: *optional_shift
    to:
    - key_code: z
    - key_code: u
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # ぜ
  - type: basic
    from:
      simultaneous:
      - key_code: *right_ring
      - key_code: z
      modifiers: *optional_shift
    to:
    - key_code: z
    - key_code: e
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # ぢ
  - type: basic
    from:
      simultaneous:
      - key_code: *right_ring
      - key_code: q
      modifiers: *optional_shift
    to:
    - key_code: d
    - key_code: i
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # てぃ
  - type: basic
    from:
      simultaneous:
      - key_code: *right_ring
      - key_code: r
      modifiers: *optional_shift
    to:
    - key_code: t
    - key_code: h
    - key_code: i
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # でぃ
  - type: basic
    from:
      simultaneous:
      - key_code: *right_ring
      - key_code: t
      modifiers: *optional_shift
    to:
    - key_code: d
    - key_code: h
    - key_code: i
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # みゃ
  - type: basic
    from:
      simultaneous:
      - key_code: *right_ring
      - key_code: "2"
      modifiers: *optional_shift
    to:
    - key_code: m
    - key_code: "y"
    - key_code: a
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # みゅ
  - type: basic
    from:
      simultaneous:
      - key_code: *right_ring
      - key_code: "3"
      modifiers: *optional_shift
    to:
    - key_code: m
    - key_code: "y"
    - key_code: u
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # みょ
  - type: basic
    from:
      simultaneous:
      - key_code: *right_ring
      - key_code: "4"
      modifiers: *optional_shift
    to:
    - key_code: m
    - key_code: "y"
    - key_code: o
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # ゃ
  - type: basic
    from:
      simultaneous:
      - key_code: *right_ring
      - key_code: "1"
      modifiers: *optional_shift
    to:
    - key_code: x
    - key_code: "y"
    - key_code: a
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # ゎ
  - type: basic
    from:
      simultaneous:
      - key_code: *right_ring
      - key_code: "5"
      modifiers: *optional_shift
    to:
    - key_code: x
    - key_code: w
    - key_code: a
      repeat: false
    conditions: *base
    parameters: *threshold_ms

# 薬指シフト・左 ---------------------------------

  # そ
  - type: basic
    from:
      simultaneous:
      - key_code: *left_ring
      - key_code: semicolon
      modifiers: *optional_shift
    to:
    - key_code: s
    - key_code: o
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # や
  - type: basic
    from:
      simultaneous:
      - key_code: *left_ring
      - key_code: o
      modifiers: *optional_shift
    to:
    - key_code: "y"
    - key_code: a
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # ら
  - type: basic
    from:
      simultaneous:
      - key_code: *left_ring
      - key_code: j
      modifiers: *optional_shift
    to:
    - key_code: r
    - key_code: a
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # わ
  - type: basic
    from:
      simultaneous:
      - key_code: *left_ring
      - key_code: "n"
      modifiers: *optional_shift
    to:
    - key_code: w
    - key_code: a
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # だ
  - type: basic
    from:
      simultaneous:
      - key_code: *left_ring
      - key_code: m
      modifiers: *optional_shift
    to:
    - key_code: d
    - key_code: a
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # ど
  - type: basic
    from:
      simultaneous:
      - key_code: *left_ring
      - key_code: i
      modifiers: *optional_shift
    to:
    - key_code: d
    - key_code: o
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # び
  - type: basic
    from:
      simultaneous:
      - key_code: *left_ring
      - key_code: h
      modifiers: *optional_shift
    to:
    - key_code: b
    - key_code: i
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # ぴ
  - type: basic
    from:
      simultaneous:
      - key_code: *left_ring
      - key_code: comma
      modifiers: *optional_shift
    to:
    - key_code: p
    - key_code: i
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # ぺ
  - type: basic
    from:
      simultaneous:
      - key_code: *left_ring
      - key_code: u
      modifiers: *optional_shift
    to:
    - key_code: p
    - key_code: e
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # ぽ
  - type: basic
    from:
      simultaneous:
      - key_code: *left_ring
      - key_code: period
      modifiers: *optional_shift
    to:
    - key_code: p
    - key_code: o
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # しぇ
  - type: basic
    from:
      simultaneous:
      - key_code: *left_ring
      - key_code: "y"
      modifiers: *optional_shift
    to:
    - key_code: s
    - key_code: "y"
    - key_code: e
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # ちぇ
  - type: basic
    from:
      simultaneous:
      - key_code: *left_ring
      - key_code: slash
      modifiers: *optional_shift
    to:
    - key_code: t
    - key_code: "y"
    - key_code: e
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # じぇ
  - type: basic
    from:
      simultaneous:
      - key_code: *left_ring
      - key_code: p
      modifiers: *optional_shift
    to:
    - key_code: z
    - key_code: "y"
    - key_code: e
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # ピリオド
  - type: basic
    from:
      simultaneous:
      - key_code: *left_ring
      - key_code: "7"
      modifiers: *optional_shift
    to:
    - key_code: backslash
    - key_code: period
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # コロン
  - type: basic
    from:
      simultaneous:
      - key_code: *left_ring
      - key_code: "8"
      modifiers: *optional_shift
    to:
    - key_code: semicolon
      modifiers: *to_shift
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # 開き丸括弧
  - type: basic
    from:
      simultaneous:
      - key_code: *left_ring
      - key_code: "9"
      modifiers: *optional_shift
    to:
    - key_code: "9"
      modifiers: *to_shift
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # 閉じ丸括弧
  - type: basic
    from:
      simultaneous:
      - key_code: *left_ring
      - key_code: "0"
      modifiers: *optional_shift
    to:
    - key_code: "0"
      modifiers: *to_shift
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # # (未定義) (改変)
  # - type: basic
  #   from:
  #     simultaneous:
  #     - key_code: *left_ring
  #     - key_code: quote
  #     modifiers: *optional_shift
  #   to:
  #   - key_code:
  #     repeat: false
  #   conditions: *base
  #   parameters: *threshold_ms

# 中指上段シフト ---------------------------------

  # きゃ
  - type: basic
    from:
      simultaneous:
      - key_code: *upper_middle
      - key_code: v
      modifiers: *optional_shift
    to:
    - key_code: k
    - key_code: "y"
    - key_code: a
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # きゅ
  - type: basic
    from:
      simultaneous:
      - key_code: *upper_middle
      - key_code: r
      modifiers: *optional_shift
    to:
    - key_code: k
    - key_code: "y"
    - key_code: u
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # きょ
  - type: basic
    from:
      simultaneous:
      - key_code: *upper_middle
      - key_code: f
      modifiers: *optional_shift
    to:
    - key_code: k
    - key_code: "y"
    - key_code: o
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # しゃ
  - type: basic
    from:
      simultaneous:
      - key_code: *upper_middle
      - key_code: c
      modifiers: *optional_shift
    to:
    - key_code: s
    - key_code: "y"
    - key_code: a
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # しゅ
  - type: basic
    from:
      simultaneous:
      - key_code: *upper_middle
      - key_code: w
      modifiers: *optional_shift
    to:
    - key_code: s
    - key_code: "y"
    - key_code: u
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # しょ
  - type: basic
    from:
      simultaneous:
      - key_code: *upper_middle
      - key_code: e
      modifiers: *optional_shift
    to:
    - key_code: s
    - key_code: "y"
    - key_code: o
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # ちゃ
  - type: basic
    from:
      simultaneous:
      - key_code: *upper_middle
      - key_code: b
      modifiers: *optional_shift
    to:
    - key_code: t
    - key_code: "y"
    - key_code: a
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # ちゅ
  - type: basic
    from:
      simultaneous:
      - key_code: *upper_middle
      - key_code: t
      modifiers: *optional_shift
    to:
    - key_code: t
    - key_code: "y"
    - key_code: u
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # ちょ
  - type: basic
    from:
      simultaneous:
      - key_code: *upper_middle
      - key_code: g
      modifiers: *optional_shift
    to:
    - key_code: t
    - key_code: "y"
    - key_code: o
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # ひゃ
  - type: basic
    from:
      simultaneous:
      - key_code: *upper_middle
      - key_code: z
      modifiers: *optional_shift
    to:
    - key_code: h
    - key_code: "y"
    - key_code: a
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # ひゅ
  - type: basic
    from:
      simultaneous:
      - key_code: *upper_middle
      - key_code: q
      modifiers: *optional_shift
    to:
    - key_code: h
    - key_code: "y"
    - key_code: u
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # ひょ
  - type: basic
    from:
      simultaneous:
      - key_code: *upper_middle
      - key_code: a
      modifiers: *optional_shift
    to:
    - key_code: h
    - key_code: "y"
    - key_code: o
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # びゃ
  - type: basic
    from:
      simultaneous:
      - key_code: *upper_middle
      - key_code: "2"
      modifiers: *optional_shift
    to:
    - key_code: b
    - key_code: "y"
    - key_code: a
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # びゅ
  - type: basic
    from:
      simultaneous:
      - key_code: *upper_middle
      - key_code: "3"
      modifiers: *optional_shift
    to:
    - key_code: b
    - key_code: "y"
    - key_code: u
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # びょ
  - type: basic
    from:
      simultaneous:
      - key_code: *upper_middle
      - key_code: "4"
      modifiers: *optional_shift
    to:
    - key_code: b
    - key_code: "y"
    - key_code: o
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # ゅ
  - type: basic
    from:
      simultaneous:
      - key_code: *upper_middle
      - key_code: "1"
      modifiers: *optional_shift
    to:
    - key_code: x
    - key_code: "y"
    - key_code: u
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # とぅ (改変)
  - type: basic
    from:
      simultaneous:
      - key_code: *upper_middle
      - key_code: x
      modifiers: *optional_shift
    to:
    - key_code: t
    - key_code: w
    - key_code: u
      repeat: false
    conditions: *base
    parameters: *threshold_ms

# 薬指上段シフト ---------------------------------

  # にゃ
  - type: basic
    from:
      simultaneous:
      - key_code: *upper_ring
      - key_code: b
      modifiers: *optional_shift
    to:
    - key_code: "n"
    - key_code: "y"
    - key_code: a
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # にゅ
  - type: basic
    from:
      simultaneous:
      - key_code: *upper_ring
      - key_code: t
      modifiers: *optional_shift
    to:
    - key_code: "n"
    - key_code: "y"
    - key_code: u
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # にょ
  - type: basic
    from:
      simultaneous:
      - key_code: *upper_ring
      - key_code: g
      modifiers: *optional_shift
    to:
    - key_code: "n"
    - key_code: "y"
    - key_code: o
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # りゃ
  - type: basic
    from:
      simultaneous:
      - key_code: *upper_ring
      - key_code: z
      modifiers: *optional_shift
    to:
    - key_code: r
    - key_code: "y"
    - key_code: a
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # りゅ
  - type: basic
    from:
      simultaneous:
      - key_code: *upper_ring
      - key_code: q
      modifiers: *optional_shift
    to:
    - key_code: r
    - key_code: "y"
    - key_code: u
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # りょ
  - type: basic
    from:
      simultaneous:
      - key_code: *upper_ring
      - key_code: a
      modifiers: *optional_shift
    to:
    - key_code: r
    - key_code: "y"
    - key_code: o
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # ぎゃ
  - type: basic
    from:
      simultaneous:
      - key_code: *upper_ring
      - key_code: v
      modifiers: *optional_shift
    to:
    - key_code: g
    - key_code: "y"
    - key_code: a
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # ぎゅ
  - type: basic
    from:
      simultaneous:
      - key_code: *upper_ring
      - key_code: r
      modifiers: *optional_shift
    to:
    - key_code: g
    - key_code: "y"
    - key_code: u
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # ぎょ
  - type: basic
    from:
      simultaneous:
      - key_code: *upper_ring
      - key_code: f
      modifiers: *optional_shift
    to:
    - key_code: g
    - key_code: "y"
    - key_code: o
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # じゃ
  - type: basic
    from:
      simultaneous:
      - key_code: *upper_ring
      - key_code: c
      modifiers: *optional_shift
    to:
    - key_code: z
    - key_code: "y"
    - key_code: a
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # じゅ
  - type: basic
    from:
      simultaneous:
      - key_code: *upper_ring
      - key_code: w
      modifiers: *optional_shift
    to:
    - key_code: z
    - key_code: "y"
    - key_code: u
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # じょ
  - type: basic
    from:
      simultaneous:
      - key_code: *upper_ring
      - key_code: e
      modifiers: *optional_shift
    to:
    - key_code: z
    - key_code: "y"
    - key_code: o
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # ぴゃ
  - type: basic
    from:
      simultaneous:
      - key_code: *upper_ring
      - key_code: "2"
      modifiers: *optional_shift
    to:
    - key_code: p
    - key_code: "y"
    - key_code: a
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # ぴゅ
  - type: basic
    from:
      simultaneous:
      - key_code: *upper_ring
      - key_code: "3"
      modifiers: *optional_shift
    to:
    - key_code: p
    - key_code: "y"
    - key_code: u
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # ぴょ
  - type: basic
    from:
      simultaneous:
      - key_code: *upper_ring
      - key_code: "4"
      modifiers: *optional_shift
    to:
    - key_code: p
    - key_code: "y"
    - key_code: o
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # ょ
  - type: basic
    from:
      simultaneous:
      - key_code: *upper_ring
      - key_code: "1"
      modifiers: *optional_shift
    to:
    - key_code: x
    - key_code: "y"
    - key_code: o
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # どぅ (改変)
  - type: basic
    from:
      simultaneous:
      - key_code: *upper_ring
      - key_code: x
      modifiers: *optional_shift
    to:
    - key_code: d
    - key_code: w
    - key_code: u
      repeat: false
    conditions: *base
    parameters: *threshold_ms

# 小指上段シフト・右 (改変) -----------------------------

  # みゃ
  - type: basic
    from:
      simultaneous:
      - key_code: *right_upper_pinky
      - key_code: c
      modifiers: *optional_shift
    to:
    - key_code: m
    - key_code: "y"
    - key_code: a
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # みゅ
  - type: basic
    from:
      simultaneous:
      - key_code: *right_upper_pinky
      - key_code: w
      modifiers: *optional_shift
    to:
    - key_code: m
    - key_code: "y"
    - key_code: u
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # みょ
  - type: basic
    from:
      simultaneous:
      - key_code: *right_upper_pinky
      - key_code: e
      modifiers: *optional_shift
    to:
    - key_code: m
    - key_code: "y"
    - key_code: o
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # ぢゃ
  - type: basic
    from:
      simultaneous:
      - key_code: *right_upper_pinky
      - key_code: b
      modifiers: *optional_shift
    to:
    - key_code: d
    - key_code: "y"
    - key_code: a
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # ぢゅ
  - type: basic
    from:
      simultaneous:
      - key_code: *right_upper_pinky
      - key_code: t
      modifiers: *optional_shift
    to:
    - key_code: d
    - key_code: "y"
    - key_code: u
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # ぢょ
  - type: basic
    from:
      simultaneous:
      - key_code: *right_upper_pinky
      - key_code: g
      modifiers: *optional_shift
    to:
    - key_code: d
    - key_code: "y"
    - key_code: o
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # びゃ
  - type: basic
    from:
      simultaneous:
      - key_code: *right_upper_pinky
      - key_code: v
      modifiers: *optional_shift
    to:
    - key_code: b
    - key_code: "y"
    - key_code: a
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # びゅ
  - type: basic
    from:
      simultaneous:
      - key_code: *right_upper_pinky
      - key_code: r
      modifiers: *optional_shift
    to:
    - key_code: b
    - key_code: "y"
    - key_code: u
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # びょ
  - type: basic
    from:
      simultaneous:
      - key_code: *right_upper_pinky
      - key_code: f
      modifiers: *optional_shift
    to:
    - key_code: b
    - key_code: "y"
    - key_code: o
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # ぴゃ
  - type: basic
    from:
      simultaneous:
      - key_code: *right_upper_pinky
      - key_code: z
      modifiers: *optional_shift
    to:
    - key_code: p
    - key_code: "y"
    - key_code: a
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # ぴゅ
  - type: basic
    from:
      simultaneous:
      - key_code: *right_upper_pinky
      - key_code: q
      modifiers: *optional_shift
    to:
    - key_code: p
    - key_code: "y"
    - key_code: u
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # ぴょ
  - type: basic
    from:
      simultaneous:
      - key_code: *right_upper_pinky
      - key_code: a
      modifiers: *optional_shift
    to:
    - key_code: p
    - key_code: "y"
    - key_code: o
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # # (未定義)
  # - type: basic
  #   from:
  #     simultaneous:
  #     - key_code: *right_upper_pinky
  #     - key_code: x
  #     modifiers: *optional_shift
  #   to:
  #   - key_code:
  #     repeat: false
  #   conditions: *base
  #   parameters: *threshold_ms

# 小指上段シフト・左 (改変) -----------------------------

  # ぁ
  - type: basic
    from:
      simultaneous:
      - key_code: *left_upper_pinky
      - key_code: u
      modifiers: *optional_shift
    to:
    - key_code: x
    - key_code: a
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # ぃ
  - type: basic
    from:
      simultaneous:
      - key_code: *left_upper_pinky
      - key_code: j
      modifiers: *optional_shift
    to:
    - key_code: x
    - key_code: i
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # ぅ
  - type: basic
    from:
      simultaneous:
      - key_code: *left_upper_pinky
      - key_code: m
      modifiers: *optional_shift
    to:
    - key_code: x
    - key_code: u
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # ぇ
  - type: basic
    from:
      simultaneous:
      - key_code: *left_upper_pinky
      - key_code: comma
      modifiers: *optional_shift
    to:
    - key_code: x
    - key_code: e
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # ぉ
  - type: basic
    from:
      simultaneous:
      - key_code: *left_upper_pinky
      - key_code: period
      modifiers: *optional_shift
    to:
    - key_code: x
    - key_code: o
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # ゃ
  - type: basic
    from:
      simultaneous:
      - key_code: *left_upper_pinky
      - key_code: "y"
      modifiers: *optional_shift
    to:
    - key_code: x
    - key_code: "y"
    - key_code: a
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # ゅ
  - type: basic
    from:
      simultaneous:
      - key_code: *left_upper_pinky
      - key_code: h
      modifiers: *optional_shift
    to:
    - key_code: x
    - key_code: "y"
    - key_code: u
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # ょ
  - type: basic
    from:
      simultaneous:
      - key_code: *left_upper_pinky
      - key_code: "n"
      modifiers: *optional_shift
    to:
    - key_code: x
    - key_code: "y"
    - key_code: o
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # げ
  # Quote が押せない場合への対応
  - type: basic
    from:
      simultaneous:
      - key_code: *left_upper_pinky
      - key_code: semicolon
      modifiers: *optional_shift
    to:
    - key_code: g
    - key_code: e
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # うぉ
  # Quote が押せない場合への対応
  - type: basic
    from:
      simultaneous:
      - key_code: *left_upper_pinky
      - key_code: slash
      modifiers: *optional_shift
    to:
    - key_code: w
    - key_code: h
    - key_code: o
      repeat: false
    conditions: *base
    parameters: *threshold_ms

  # ゎ
  - type: basic
    from:
      simultaneous:
      - key_code: *left_upper_pinky
      - key_code: quote
      modifiers: *optional_shift
    to:
    - key_code: x
    - key_code: w
    - key_code: a
      repeat: false
    conditions: *base
    parameters: *threshold_ms

# ベース -----------------------------------------

  # い
  - type: basic
    from:
      key_code: k
      modifiers: *optional_shift
    to:
    - key_code: i
      repeat: false
    conditions: *base

  # う
  - type: basic
    from:
      key_code: j
      modifiers: *optional_shift
    to:
    - key_code: u
      repeat: false
    conditions: *base

  # か
  - type: basic
    from:
      key_code: d
      modifiers: *optional_shift
    to:
    - key_code: k
    - key_code: a
      repeat: false
    conditions: *base

  # き
  - type: basic
    from:
      key_code: c
      modifiers: *optional_shift
    to:
    - key_code: k
    - key_code: i
      repeat: false
    conditions: *base

  # く
  - type: basic
    from:
      key_code: h
      modifiers: *optional_shift
    to:
    - key_code: k
    - key_code: u
      repeat: false
    conditions: *base

  # こ
  - type: basic
    from:
      key_code: i
      modifiers: *optional_shift
    to:
    - key_code: k
    - key_code: o
      repeat: false
    conditions: *base

  # し
  - type: basic
    from:
      key_code: l
      modifiers: *optional_shift
    to:
    - key_code: s
    - key_code: i
      repeat: false
    conditions: *base

  # す
  - type: basic
    from:
      key_code: z
      modifiers: *optional_shift
    to:
    - key_code: s
    - key_code: u
      repeat: false
    conditions: *base

  # た
  - type: basic
    from:
      key_code: m
      modifiers: *optional_shift
    to:
    - key_code: t
    - key_code: a
      repeat: false
    conditions: *base

  # ち
  - type: basic
    from:
      key_code: t
      modifiers: *optional_shift
    to:
    - key_code: t
    - key_code: i
      repeat: false
    conditions: *base

  # つ
  - type: basic
    from:
      key_code: b
      modifiers: *optional_shift
    to:
    - key_code: t
    - key_code: u
      repeat: false
    conditions: *base

  # て
  - type: basic
    from:
      key_code: "n"
      modifiers: *optional_shift
    to:
    - key_code: t
    - key_code: e
      repeat: false
    conditions: *base

  # と
  - type: basic
    from:
      key_code: s
      modifiers: *optional_shift
    to:
    - key_code: t
    - key_code: o
      repeat: false
    conditions: *base

  # な
  - type: basic
    from:
      key_code: semicolon
      modifiers: *optional_shift
    to:
    - key_code: "n"
    - key_code: a
      repeat: false
    conditions: *base

  # に
  - type: basic
    from:
      key_code: w
      modifiers: *optional_shift
    to:
    - key_code: "n"
    - key_code: i
      repeat: false
    conditions: *base

  # の
  - type: basic
    from:
      key_code: a
      modifiers: *optional_shift
    to:
    - key_code: "n"
    - key_code: o
      repeat: false
    conditions: *base

  # は
  - type: basic
    from:
      key_code: e
      modifiers: *optional_shift
    to:
    - key_code: h
    - key_code: a
      repeat: false
    conditions: *base

  # ひ
  - type: basic
    from:
      key_code: p
      modifiers: *optional_shift
    to:
    - key_code: h
    - key_code: i
      repeat: false
    conditions: *base

  # ま
  - type: basic
    from:
      key_code: x
      modifiers: *optional_shift
    to:
    - key_code: m
    - key_code: a
      repeat: false
    conditions: *base

  # る
  - type: basic
    from:
      key_code: v
      modifiers: *optional_shift
    to:
    - key_code: r
    - key_code: u
      repeat: false
    conditions: *base

  # ん
  - type: basic
    from:
      key_code: f
      modifiers: *optional_shift
    to:
    - key_code: "n"
    - key_code: "n"
      repeat: false
    conditions: *base

  # が
  - type: basic
    from:
      key_code: o
      modifiers: *optional_shift
    to:
    - key_code: g
    - key_code: a
      repeat: false
    conditions: *base

  # ぐ
  - type: basic
    from:
      key_code: "y"
      modifiers: *optional_shift
    to:
    - key_code: g
    - key_code: u
      repeat: false
    conditions: *base

  # げ
  - type: basic
    from:
      key_code: quote
      modifiers: *optional_shift
    to:
    - key_code: g
    - key_code: e
      repeat: false
    conditions: *base

  # で
  - type: basic
    from:
      key_code: comma
      modifiers: *optional_shift
    to:
    - key_code: d
    - key_code: e
      repeat: false
    conditions: *base

  # ば
  - type: basic
    from:
      key_code: u
      modifiers: *optional_shift
    to:
    - key_code: b
    - key_code: a
      repeat: false
    conditions: *base

  # ぶ
  - type: basic
    from:
      key_code: slash
      modifiers: *optional_shift
    to:
    - key_code: b
    - key_code: u
      repeat: false
    conditions: *base

  # っ
  - type: basic
    from:
      key_code: g
      modifiers: *optional_shift
    to:
    - key_code: x
    - key_code: t
    - key_code: u
      repeat: false
    conditions: *base

  # # 読点
  # # Symbol Mode で定義
  # - type: basic
  #   from:
  #     key_code: r
  #     modifiers: *optional_shift
  #   to:
  #   - key_code: comma
  #     repeat: false
  #   conditions: *base

  # 句点
  - type: basic
    from:
      key_code: period
      modifiers: *optional_shift
    to:
    - key_code: period
      repeat: false
    conditions: *base

  # 長音符
  - type: basic
    from:
      key_code: q
      modifiers: *optional_shift
    to:
    - key_code: quote
      repeat: false
    conditions: *base

# Symbol Mode ------------------------------------


  # Symbol Mode Key ------------------------------

  # 読点
  - type: basic
    from:
      key_code: r
      modifiers: *optional_shift
    to_if_alone:
    - key_code: comma
      repeat: false
    to:
    - set_variable:
        name: symbol
        value: 1
        key_up_value: 0
    conditions: *base

  # Symbol Mode Mapping --------------------------

  # 入力される記号はIMEの仮名テーブルで定義する

  # Y
  - type: basic
    from:
      key_code: "y"
    to:
    - key_code: backslash
    - key_code: "y"
      repeat: false
    conditions: *symbol

  # U
  - type: basic
    from:
      key_code: u
    to:
    - key_code: backslash
    - key_code: u
      repeat: false
    conditions: *symbol

  # I
  - type: basic
    from:
      key_code: i
    to:
    - key_code: backslash
    - key_code: i
      repeat: false
    conditions: *symbol

  # O
  - type: basic
    from:
      key_code: o
    to:
    - key_code: backslash
    - key_code: o
      repeat: false
    conditions: *symbol

  # P
  - type: basic
    from:
      key_code: p
    to:
    - key_code: backslash
    - key_code: p
      repeat: false
    conditions: *symbol

  # H
  - type: basic
    from:
      key_code: h
    to:
    - key_code: backslash
    - key_code: h
      repeat: false
    conditions: *symbol

  # J
  - type: basic
    from:
      key_code: j
    to:
    - key_code: backslash
    - key_code: j
      repeat: false
    conditions: *symbol

  # K
  - type: basic
    from:
      key_code: k
    to:
    - key_code: backslash
    - key_code: k
      repeat: false
    conditions: *symbol

  # L
  - type: basic
    from:
      key_code: l
    to:
    - key_code: backslash
    - key_code: l
      repeat: false
    conditions: *symbol

  # Semicolon
  - type: basic
    from:
      key_code: semicolon
    to:
    - key_code: backslash
    - key_code: semicolon
      repeat: false
    conditions: *symbol

  # Colon
  - type: basic
    from:
      key_code: semicolon
      modifiers: *mandatory_shift
    to:
    - key_code: backslash
    - key_code: semicolon
      modifiers: *to_shift
      repeat: false
    conditions: *symbol

  # Single Quote
  - type: basic
    from:
      key_code: quote
    to:
    - key_code: backslash
    - key_code: quote
      repeat: false
    conditions: *symbol

  # Double Quote
  - type: basic
    from:
      key_code: quote
      modifiers: *mandatory_shift
    to:
    - key_code: backslash
    - key_code: quote
      modifiers: *to_shift
      repeat: false
    conditions: *symbol

  # N
  - type: basic
    from:
      key_code: "n"
    to:
    - key_code: backslash
    - key_code: "n"
      repeat: false
    conditions: *symbol

  # M
  - type: basic
    from:
      key_code: m
    to:
    - key_code: backslash
    - key_code: m
      repeat: false
    conditions: *symbol

  # Comma
  - type: basic
    from:
      key_code: comma
    to:
    - key_code: backslash
    - key_code: comma
      repeat: false
    conditions: *symbol

  # Period
  - type: basic
    from:
      key_code: period
    to:
    - key_code: backslash
    - key_code: period
      repeat: false
    conditions: *symbol

  # Less Than
  - type: basic
    from:
      key_code: comma
      modifiers: *mandatory_shift
    to:
    - key_code: backslash
    - key_code: comma
      modifiers: *to_shift
      repeat: false
    conditions: *symbol

  # Greater Than
  - type: basic
    from:
      key_code: period
      modifiers: *mandatory_shift
    to:
    - key_code: backslash
    - key_code: period
      modifiers: *to_shift
      repeat: false
    conditions: *symbol

  # Slash
  - type: basic
    from:
      key_code: slash
    to:
    - key_code: backslash
    - key_code: slash
      repeat: false
    conditions: *symbol

  # Question Mark
  - type: basic
    from:
      key_code: slash
      modifiers: *mandatory_shift
    to:
    - key_code: backslash
    - key_code: slash
      modifiers: *to_shift
      repeat: false
    conditions: *symbol

  # Bracket
  - type: basic
    from:
      key_code: open_bracket
    to:
    - key_code: backslash
    - key_code: open_bracket
      repeat: false
    conditions: *symbol

  - type: basic
    from:
      key_code: close_bracket
    to:
    - key_code: backslash
    - key_code: close_bracket
      repeat: false
    conditions: *symbol

  # Brace
  - type: basic
    from:
      key_code: open_bracket
      modifiers: *mandatory_shift
    to:
    - key_code: backslash
    - key_code: open_bracket
      modifiers: *to_shift
      repeat: false
    conditions: *symbol

  - type: basic
    from:
      key_code: close_bracket
      modifiers: *mandatory_shift
    to:
    - key_code: backslash
    - key_code: close_bracket
      modifiers: *to_shift
      repeat: false
    conditions: *symbol

  # Paren
  - type: basic
    from:
      key_code: "9"
      modifiers: *mandatory_shift
    to:
    - key_code: backslash
    - key_code: "9"
      modifiers: *to_shift
      repeat: false
    conditions: *symbol

  - type: basic
    from:
      key_code: "0"
      modifiers: *mandatory_shift
    to:
    - key_code: backslash
    - key_code: "0"
      repeat: false
      modifiers: *to_shift
    conditions: *symbol
