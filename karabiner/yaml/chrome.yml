title: Google Chrome

# ---------- Variables ----------

variables:

- from/modifiers: &left_command
    mandatory:
    - left_command

- conditions: &chrome
  - type: frontmost_application_if
    bundle_identifiers:
    - "^com.google.Chrome"

# ---------- Keymaps ----------

rules:

- description: "[Chrome] LCommand-N → 新しいタブを開く"
  manipulators:
  - type: basic
    from:
      key_code: "n"
      modifiers: *left_command
    to:
    - key_code: t
      modifiers:
      - command
    conditions: *chrome

- description: "[Chrome] LCommand-T → 閉じたタブを開く"
  manipulators:
  - type: basic
    from:
      key_code: t
      modifiers: *left_command
    to:
    - key_code: t
      modifiers:
      - shift
      - command
    conditions: *chrome

- description: "[Chrome] LCommand-Q (held down) → Google Chrome を終了"
  manipulators:
  - type: basic
    from:
      key_code: q
      modifiers: *left_command
    to_if_held_down:
    - key_code: q
      modifiers:
      - command
      repeat: false
    to_if_alone:
    - key_code: null
    parameters:
      basic.to_if_held_down_threshold_milliseconds: 1000
    conditions: *chrome
