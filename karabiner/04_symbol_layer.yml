title: "04. Symbol Layer"

# "Return and Control" との併用は不可
# Return and Control は 08_sands.yml で定義されている

# ALIASES ========================================

aliases:

- conditions: &symbol
  - type: variable_if
    name: symbol_layer
    value: true
  - type: device_if
    identifiers:
    # Apple Internal Keyboard
    - is_built_in_keyboard: true

# RULES ==========================================

rules:
- description: "4. Symbol Layer"
  manipulators:

# Symbol Layer Key {{{

  # Enter -> Enter / Symbol Layer Key
  - type: basic
    from:
      key_code: return_or_enter
      modifiers:
        optional:
        - any
    to:
    - set_variable:
        name: symbol_layer
        value: true
        key_up_value: false
    to_if_alone:
    - key_code: return_or_enter

# }}}

# Upper Row {{{

  # Q -> .
  - type: basic
    from:
      key_code: q
    to:
    - key_code: period
    conditions: *symbol

  # W -> +
  - type: basic
    from:
      key_code: w
    to:
    - key_code: equal_sign
      modifiers:
      - shift
    conditions: *symbol

  # E -> _
  - type: basic
    from:
      key_code: e
    to:
    - key_code: hyphen
      modifiers:
      - shift
    conditions: *symbol

  # R -> !
  - type: basic
    from:
      key_code: r
    to:
    - key_code: "1"
      modifiers:
      - shift
    conditions: *symbol

  # T -> |
  - type: basic
    from:
      key_code: t
    to:
    - key_code: backslash
      modifiers:
      - shift
    conditions: *symbol

  # Y -> /
  - type: basic
    from:
      key_code: "y"
    to:
    - key_code: slash
    conditions: *symbol

  # U -> &
  - type: basic
    from:
      key_code: u
    to:
    - key_code: "7"
      modifiers:
      - shift
    conditions: *symbol

  # I -> ^
  - type: basic
    from:
      key_code: i
    to:
    - key_code: "6"
      modifiers:
      - shift
    conditions: *symbol

  # O -> $
  - type: basic
    from:
      key_code: o
    to:
    - key_code: "4"
      modifiers:
      - shift
    conditions: *symbol

  # P -> ,
  - type: basic
    from:
      key_code: p
    to:
    - key_code: comma
    conditions: *symbol

# }}}

# Middle Row {{{

  # A -> *
  - type: basic
    from:
      key_code: a
    to:
    - key_code: "8"
      modifiers:
      - shift
    conditions: *symbol

  # S -> =
  - type: basic
    from:
      key_code: s
    to:
    - key_code: equal_sign
    conditions: *symbol

  # D -> -
  - type: basic
    from:
      key_code: d
    to:
    - key_code: hyphen
    conditions: *symbol

  # F -> 0
  - type: basic
    from:
      key_code: f
    to:
    - key_code: "0"
    conditions: *symbol

  # G -> @
  - type: basic
    from:
      key_code: g
    to:
    - key_code: "2"
      modifiers:
      - shift
    conditions: *symbol

  # H -> ~
  - type: basic
    from:
      key_code: h
    to:
    - key_code: grave_accent_and_tilde
      modifiers:
      - shift
    conditions: *symbol

  # J -> 1
  - type: basic
    from:
      key_code: j
    to:
    - key_code: "1"
    conditions: *symbol

  # K -> %
  - type: basic
    from:
      key_code: k
    to:
    - key_code: "5"
      modifiers:
      - shift
    conditions: *symbol

  # L -> #
  - type: basic
    from:
      key_code: l
    to:
    - key_code: "3"
      modifiers:
      - shift
    conditions: *symbol

  # Semicolon -> :
  - type: basic
    from:
      key_code: semicolon
    to:
    - key_code: semicolon
      modifiers:
      - shift
    conditions: *symbol

# }}}

# Lower Row {{{

  # Z -> 8
  - type: basic
    from:
      key_code: z
    to:
    - key_code: "8"
    conditions: *symbol

  # X -> 6
  - type: basic
    from:
      key_code: x
    to:
    - key_code: "6"
    conditions: *symbol

  # C -> 4
  - type: basic
    from:
      key_code: c
    to:
    - key_code: "4"
    conditions: *symbol

  # V -> 2
  - type: basic
    from:
      key_code: v
    to:
    - key_code: "2"
    conditions: *symbol

  # B -> \
  - type: basic
    from:
      key_code: b
    to:
    - key_code: backslash
    conditions: *symbol

  # N -> `
  - type: basic
    from:
      key_code: "n"
    to:
    - key_code: grave_accent_and_tilde
    conditions: *symbol

  # M -> 3
  - type: basic
    from:
      key_code: m
    to:
    - key_code: "3"
    conditions: *symbol

  # Comma -> 5
  - type: basic
    from:
      key_code: comma
    to:
    - key_code: "5"
    conditions: *symbol

  # Period -> 7
  - type: basic
    from:
      key_code: period
    to:
    - key_code: "7"
    conditions: *symbol

  # Slash -> 9
  - type: basic
    from:
      key_code: slash
    to:
    - key_code: "9"
    conditions: *symbol

# }}}

# Other Keys {{{

  # # Quote ->
  # - type: basic
  #   from:
  #     key_code: quote
  #   to:
  #   - key_code:
  #   conditions: *symbol

  # # Open Bracket ->
  # - type: basic
  #   from:
  #     key_code: open_bracket
  #   to:
  #   - key_code:
  #   conditions: *symbol

  # # Close Bracket ->
  # - type: basic
  #   from:
  #     key_code: close_bracket
  #   to:
  #   - key_code:
  #   conditions: *symbol

  # # Backslash ->
  # - type: basic
  #   from:
  #     key_code: backslash
  #   to:
  #   - key_code:
  #   conditions: *symbol

  # # Grave ->
  # - type: basic
  #   from:
  #     key_code: grave_accent_and_tilde
  #   to:
  #   - key_code:
  #   conditions: *symbol

  # # Space ->
  # - type: basic
  #   from:
  #     key_code: spacebar
  #   to:
  #   - key_code:
  #   conditions: *symbol

# }}}
